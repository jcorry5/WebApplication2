function openTestImage(){var n=new Image;n.src="../images/test.jpg";n.onload=function(){canvas=document.getElementById("image-canvas");canvas2=document.getElementById("anno-canvas");context=canvas.getContext("2d");canvas.width=n.width;canvas2.width=n.width;canvas.height=n.height;canvas2.height=n.height;context.drawImage(n,0,0)}}function readImage(){var n=document.getElementById("image-canvas"),i=document.getElementById("anno-canvas"),r=n.getContext("2d"),t;this.files&&this.files[0]&&($(document).ready(function(){$("#canvasDiv").show();$("#fileSelectdiv").hide();$("#closeImage").show()}),t=new FileReader,t.onload=function(t){var u=new Image;u.addEventListener("load",function(){n.width=u.width;i.width=u.width;n.height=u.height;i.height=u.height;r.drawImage(u,0,0)});u.src=t.target.result},t.readAsDataURL(this.files[0]))}function download(n,t,i){n.href=document.getElementById(t).toDataURL();n.download=i}document.getElementById("files").addEventListener("change",readImage,!1);document.getElementById("downloadImage").addEventListener("click",function(){download(this,"image-canvas","test.png")},!1);addEventListener("dragover",function(n){n.preventDefault()},!1);var dropZone=ocument.getElementById("dropZone");dropZone.addEventListener("drop",function(n){var r=n.dataTransfer.files,t,i;r.length>0&&(t=r[0],typeof FileReader!="undefined"&&t.type.indexOf("image")!=-1&&(i=new FileReader,i.onload=function(n){img.src=n.target.result},i.readAsDataURL(t)));n.preventDefault()},!1);